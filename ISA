

* len (unsigned), ofs (signed), uofs (unsigned), val (signed)

 5 (1)  : 0 0 0 n n n n n
13 (2)  : 0 0 1 n n n n n . n n n n n n n n
21 (3)  : 0 1 0 n n n n n . n n n n n n n n . n n n n n n n n
29 (4)  : 0 1 1 n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n
37 (5)  : 1 0 0 n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n
64 (9)  : 1 0 1 x x x x x . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n
80 (11) : 1 1 0 x x x x x . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n

nnn..n is big-endian

* str

len+data (data is null-terminated)

* base+ofs (signed)

 3 (1) : 0 0 0 b b n n n
11 (2) : 0 0 1 b b n n n . n n n n n n n n
19 (3) : 0 1 0 b b n n n . n n n n n n n n . n n n n n n n n
27 (4) : 0 1 1 b b n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n
35 (5) : 1 0 0 b b n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n
64 (9) : 1 0 1 b b x x x . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n . n n n n n n n n

bb
00 sp
01 bp
10 ap
11 ...	(requires bits 7..5 to be 0)
   	ofs
	0	dst

nnn..n is big-endian

* opcode

7 6 5 4 3 2 1 0
c c c c c c p v

c = operation
p = push flag (if applicable)
v = 1-bit value, option, etc. (if applicable)


00     noop

04     inst_assign	dst:base+ofs src:base+ofs

06     stack_push	src:base+ofs

08     stack_free	n:len

09     stack_alloc	n:len

0c     stack_free_alloc	nfree:len nalloc:len

10     method_callc	dst:base+ofs sel:str selhash:uint32 argc:len

14     ret              src:base+ofs

15     retd

18     except_push	var:base+ofs

1c     except_raise	inst:base+ofs

1d     except_reraise

20     except_pop

21     except_popn	n:len

30     jmp		addr:ofs

34     jt		addr:ofs

35     jf		addr:ofs

38     jx		addr:ofs

3c     ift		addr:ofs

3d     iff		addr:ofs

40     env_at   	dst:base+ofs src:base+ofs

42     env_at_push	src:base+ofs

44     env_atc  	dst:base+ofs name:str

46     env_atc_push	name:str

50     nil_new		dst:base+ofs

52     nil_push

54,55  bool_newc	dst:base+ofs

56,57  bool_pushc

58     int_newc		dst:base+ofs val:val

5a     int_pushc	val:val

5c     float_newc	dst:base+ofs val:val

5e     float_pushc	val:val

60     method_newc	dst:base+ofs addr:ofs

62     method_pushc	addr:ofs

64     cmethod_newc	dst:base+ofs addr:ofs

66     cmethod_pushc	addr:ofs

68     str_newc		dst:base+ofs str:str

6a     str_pushc	str:str
